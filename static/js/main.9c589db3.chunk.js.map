{"version":3,"sources":["panels/Home.js","App.js","index.js"],"names":["Home","id","fetchedUser","go","setPopout","closePopout","className","title","before","photo_200","src","description","city","first_name","last_name","header","mode","size","style","margin","padding","type","placeholder","marginBottom","onClick","document","getElementById","value","actionsLayout","actions","autoclose","onClose","action","bridge","send","message","link","marginTop","href","target","App","useState","activePanel","setActivePanel","setUser","popout","useEffect","a","user","subscribe","detail","data","schemeAttribute","createAttribute","scheme","body","attributes","setNamedItem","fetchData","e","currentTarget","dataset","to","ReactDOM","render"],"mappings":"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","file":"static/js/main.9c589db3.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport {\n  Group,\n  Card,\n  Input,\n  Footer,\n  Link,\n  Button,\n  Alert,\n  Header,\n} from \"@vkontakte/vkui\";\nimport Cell from \"@vkontakte/vkui/dist/components/Cell/Cell\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\n\nimport bridge from \"@vkontakte/vk-bridge\";\n\nimport \"./Home.css\";\n\nconst Home = ({ id, go, fetchedUser, setPopout }) => {\n  const closePopout = () => {\n    setPopout(null);\n  };\n\n  const goPost = () => {\n    bridge.send(\"VKWebAppShare\", {\n      message: `Мой рост в приложении: ${\n        document.getElementById(\"user_height\").value\n      } см.`,\n      link: \"https://vk.com/app7168608\",\n    });\n  };\n\n  const getHeight = () => {\n    if (!document.getElementById(\"user_height\").value) {\n      setPopout(\n        <Alert\n          actionsLayout=\"vertical\"\n          actions={[\n            {\n              title: \"Ок\",\n              autoclose: true,\n              mode: \"cancel\",\n            },\n          ]}\n          onClose={closePopout}\n        >\n          <h2>Ошибка! Заполните анкету</h2>\n        </Alert>\n      );\n    }\n\n    setPopout(\n      <Alert\n        actionsLayout=\"vertical\"\n        actions={[\n          {\n            title: \"Поделится\",\n            autoclose: true,\n            mode: \"commerce\",\n            action: () => goPost(),\n          },\n          {\n            title: \"Ок\",\n            autoclose: true,\n            mode: \"cancel\",\n          },\n        ]}\n        onClose={closePopout}\n      >\n        <h2>Ваш рост {document.getElementById(\"user_height\").value} cm</h2>\n      </Alert>\n    );\n  };\n\n  return (\n    <Panel id={id}>\n      <div className=\"fon\">\n        <PanelHeader>Определи свой рост</PanelHeader>\n        {fetchedUser && (\n          <Group title=\"User Data Fetched with VK Bridge\">\n            <Cell\n              before={\n                fetchedUser.photo_200 ? (\n                  <Avatar src={fetchedUser.photo_200} />\n                ) : null\n              }\n              description={\n                fetchedUser.city && fetchedUser.city.title\n                  ? fetchedUser.city.title\n                  : \"\"\n              }\n            >\n              {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n            </Cell>\n          </Group>\n        )}\n\n        <Group\n          title=\"Get Your Height\"\n          header={<Header mode=\"secondary\">Введите ваш рост</Header>}\n        >\n          <Card size=\"l\" mode=\"shadow\" style={{ margin: 15, padding: 10 }}>\n            <Input\n              type=\"number\"\n              id=\"1\"\n              placeholder=\"Введите ваш возраст\"\n              style={{ marginBottom: 10 }}\n            />\n            <Input\n              type=\"number\"\n              id=\"2\"\n              placeholder=\"Введите ваш вес\"\n              style={{ marginBottom: 10 }}\n            />\n            <Input\n              type=\"number\"\n              id=\"user_height\"\n              placeholder=\"Введите ваш рост\"\n            />\n            <Button\n              onClick={getHeight}\n              size=\"xl\"\n              mode=\"commerce\"\n              style={{ marginTop: 50 }}\n            >\n              Определить\n            </Button>\n          </Card>\n        </Group>\n\n        <Footer>\n          Made by{\" \"}\n          <Link href=\"https://vk.com/xop_enotov\" target=\"_blank\">\n            XOP EHOTOB\n          </Link>\n        </Footer>\n      </div>\n    </Panel>\n  );\n};\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n  fetchedUser: PropTypes.shape({\n    photo_200: PropTypes.string,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n    city: PropTypes.shape({\n      title: PropTypes.string,\n    }),\n  }),\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport Home from \"./panels/Home\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"home\");\n  const [fetchedUser, setUser] = useState(null);\n  const [popout, setPopout] = useState(<ScreenSpinner size=\"large\" />);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\n      setUser(user);\n      setPopout(null);\n    }\n    fetchData();\n  }, []);\n\n  const go = (e) => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return (\n    <View activePanel={activePanel} popout={popout}>\n      <Home id=\"home\" fetchedUser={fetchedUser} go={go} setPopout={setPopout} />\n    </View>\n  );\n};\n\nexport default App;\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}